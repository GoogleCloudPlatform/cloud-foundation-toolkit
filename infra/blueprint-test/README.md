# 1. Background and Overview

Integration testing has been instrumental in establishing a complete and functional CI pipeline. Similar to most quality software engineering modules and applications, GCP Blueprints employ an integration testing framework that is triggered as part of the CI process as well.

Apart from the necessity of including a testing framework as part of our GCP blueprints we took additional steps to ensure the following:

- Easy to learn and to setup as part of the blueprints development process
- Compatible with both Terraform and KRM based GCP blueprints

Considering the above, our test framework has been developed (details in the following sections) with backward compatibility to allow for current tests to keep functioning.

```
Note: If you have a question about the test framework, feel free to ask it on our user group. 
Feature requests can also be submitted as Issues.
```

# 2. Framework Concepts

```
Note: The best reference documentation for the framework is the autogenerated documentation.
```

The test framework uses Golang with the testing package at its core to allow for creation and setup of GCP blueprints integration tests.

```
Note: The test runners for the framework are published on GitHub and can be downloaded in your local workspace using `go init <package_name> & go get -t` for test development.
```

Primarily, there are two types of tests that are executed as part of the framework:

- Auto-discovered tests are discovered and executed automatically based on the prescriptive directory structure of the blueprint (details shared in the next section). Blueprints are configured to automatically run these tests without superfluous changes.
- Custom tests are written explicitly against examples that leverage the blueprint. The intent of these tests is to expand or modify the default behavior of a test stage, with custom assertions being the most common example, against the resources provisioned by the blueprint in GCP.

For the purpose of this user guide, the [terraform-google-sql-db blueprint](https://github.com/terraform-google-modules/terraform-google-sql-db) is used to demonstrate the usage of the framework.